@using Dar_e_Arqam_pwd_isb.Models
@model AllClasses
@{
    ViewBag.Title = "View Result";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<script src="~/contents/js/script_7.js"></script>
<link href="~/contents/css/style.css" rel="stylesheet" />

<script type="text/javascript">
      $(document).ready(function () {
          if ('@TempData["msg"]' != "") {
              $("#dialog-msg").dialog('open');
           }
      });
</script>

<div class="body_right_top_area">
<div class="p_page_head">
<div class="p_page_head_top"><p> > Results</p></div>
<div class="p_page_head_left"><h2 class="results">Results</h2></div>
<div class="p_page_head_right">
<div class="p_page_head_right_search">
@using (Html.BeginForm("Index", "result", FormMethod.Get))
{
<div class="p_page_head_right_search_input"> @Html.TextBoxFor(m => m.Search_key, new { placeholder="Type anything to search the required session year result .... " }) </div>
<div class="p_page_head_right_search_btn"> <input type="submit" name="submit" value="Search" /> </div>
<div class="clear"></div>    
}
</div>
</div>
<div class="clear"></div>
</div>

<!--Create-->
<div id="dialog-add-form"></div>

<!--Success Message-->
<div id="dialog-msg" style="display: none">
    <p class="db_msg">
        @TempData["msg"]!
    </p>
</div>

<!--Error-->
 <div id="dialog-error" style="display: none">
    <p class="db_msg">
        Something Wrong With Your Internet Connection , Please Check Your Internet Connetion Settings !
    </p>
</div>
</div>

<div class="body_right_bot_area">

<div class="p_page_head_bot_links">
<a href="" id="AddNewResult" class="add_new_item">Add New Result</a>
<a href="/result/all">All Active Results </a>
<a href="/result/trash">Trash</a>
<div class="clear"></div>
</div>
<h3 class="page_main_headings"> All Subjects Total Marks Of Classes For (@Model.Sub_Result.name) </h3>
    <br />
    <br />
@if (Model.ClassLevel_s == null)
{
    <p class="db_msg"> @ViewBag.StatusMessage </p>
}
else
{
    foreach(var driv in Model.ClassLevel_s){
        <div class="body_of_subjects_total_marks">
        <div class="body_of_subjects_total_marks_">
        <h4 class="body_of_subjects_total_marks_heading">Subjects Total Marks Of @driv.Name :</h4>
        </div>
        <div class="body_of_subjects_total_marks__">
        <div class="items_dir_main_div_inner_opt">
        <div class="items_dir_main_div_inner_opt_dtl items_dir_main_div_inner_opt_dtl_"><a href="/result/addsbjctsttlmrks/?id=@driv.Id&rid=@Model.Sub_Result.id" class="addttlmrksofsbjcts">Add A Subject Total Marks</a></div>
        <div class="items_dir_main_div_inner_opt_edit items_dir_main_div_inner_opt_edit_"><a href="/result/editsbjctsttlmrks/?id=@driv.Id&rid=@Model.Sub_Result.id" class="editttlmrksofsbjcts">Edit All Sujects Marks</a></div>
        <div class="items_dir_main_div_inner_opt_dlt items_dir_main_div_inner_opt_dlt_"><a href="/result/delsbjctsttlmrks/?id=@driv.Id&rid=@Model.Sub_Result.id">Delete All Subjects Marks</a></div>
        <div class="clear"></div>
        </div>
        </div>
        <div class="clear"></div>
        <div class="body_of_subjects_total_marks_">
        <p><b>Subjects Name</b></p>
        </div>
        <div class="body_of_subjects_total_marks__">
        <p><b>Subjects Total Marks</b></p>
        </div>
        <div class="clear"></div>


            @if(Model.SubjectsTotalMark_s == null)
            {
                <p class="db_msg"> @ViewBag.StatusMessage </p>
                
            }else{

                foreach (var drive in Model.SubjectsTotalMark_s.Where(b => b.Class_id.Equals(driv.Id) && b.R_id.Equals(Model.Sub_Result.id)))
                {
            <div class="body_of_subjects_total_marks_">
            <p>@drive.Subject_Name</p>
            </div>
            <div class="body_of_subjects_total_marks__">
            <p>@drive.Total_marks</p>
            </div>
            <div class="clear"></div>
            }
            }
        </div>
        
        <br />
    }
}
<div class="clear"></div>
</div>
